(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2BER":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},[o("div",{staticClass:"col s10"},[o("q-tabs",{attrs:{color:"secondary",inverted:""}},[o("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"message",label:"Meus Eventos"},slot:"title"}),o("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"account_box",label:"Minhas Inscrições"},slot:"title"}),o("q-tab-pane",{attrs:{name:"tab-1"}},[o("meus-eventos")],1),o("q-tab-pane",{attrs:{name:"tab-3"}},[t._v("Listar Minhas Inscrições")])],1)],1)])},n=[];a._withStripped=!0;var i=o("4IOb"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",[o("q-page-container",[o("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px",width:"50px",height:"50px","z-index":"1000"},attrs:{round:"",color:"primary",icon:t.iconFab},on:{click:function(e){t.novo=!t.novo,t.evento=null}}}),t.novo?o("evento-form",{attrs:{usuario:t.usuario,eventoData:t.evento},on:{"get-eventos":t.getDadosUsuario,cancelar:function(e){t.novo=!1}}}):o("q-table",{attrs:{title:"Listagem dos meus eventos",data:t.eventos,columns:t.columns,"row-key":"name"},scopedSlots:t._u([{key:"body-cell-dataTermino",fn:function(e){return o("q-td",{attrs:{props:e}},[t._v("\n        "+t._s(t.onDateFormat(e.row.dataTermino))+"\n      ")])}},{key:"body-cell-dataInicio",fn:function(e){return o("q-td",{attrs:{props:e}},[t._v("\n        "+t._s(t.onDateFormat(e.row.dataInicio))+"\n      ")])}},{key:"body-cell-id",fn:function(e){return o("q-td",{attrs:{props:e}},[o("q-btn",{attrs:{color:"blue-6",dense:"",label:"Inscritos",title:"Inscritos"},on:{click:function(o){t.onInscritos(e.row)}}}),t._v(" \n        "),o("q-btn",{attrs:{color:"green-6",dense:"",label:"atividades",title:"Adicionar Atividade"},on:{click:function(o){t.onAtividade(e.row)}}}),t._v(" \n        "),o("q-btn",{attrs:{push:"",color:"blue-14",dense:"",icon:"edit"},on:{click:function(o){t.onEdit(e.row)}}}),t._v(" \n        "),o("q-btn",{attrs:{push:"",color:"red-14",dense:"",icon:"remove"},on:{click:function(o){t.onDelete(e.row.id)}}})],1)}}])})],1)],1)},r=[];s._withStripped=!0;var c=o("MVZn"),l=o.n(c),u=(o("a1Th"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},[o("div",{staticClass:"col s12"},[o("q-card",{staticStyle:{width:"100%"},attrs:{inline:""}},[o("q-card-title",[t._v("\n        Cadastro Evento\n        "),o("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[o("q-icon",{attrs:{name:"calendar"}})],1)]),o("q-card-main",[o("q-field",{attrs:{icon:"",helper:""}},[o("q-input",{attrs:{"float-label":"Descrição"},model:{value:t.evento.descricao,callback:function(e){t.$set(t.evento,"descricao",e)},expression:"evento.descricao"}})],1),o("br"),o("q-datetime",{attrs:{format:"DD/MM/YYYY",min:t.hoje,"float-label":"Data de início",type:"date"},model:{value:t.evento.dataInicio,callback:function(e){t.$set(t.evento,"dataInicio",e)},expression:"evento.dataInicio"}}),o("q-datetime",{attrs:{format:"DD/MM/YYYY",min:t.hoje,"float-label":"Data de término",type:"date"},model:{value:t.evento.dataTermino,callback:function(e){t.$set(t.evento,"dataTermino",e)},expression:"evento.dataTermino"}}),o("br"),o("q-chips-input",{attrs:{placeholder:"Select from list or add new one","stack-label":"List of countries"},on:{duplicate:t.duplicate},model:{value:t.chips1,callback:function(e){t.chips1=e},expression:"chips1"}},[o("q-autocomplete",{on:{search:t.search,selected:t.selected}})],1)],1),o("q-card-separator"),o("q-card-actions",[o("q-btn",{attrs:{color:"secondary",label:"Salvar"},on:{click:t.salvarEvento}}),o("q-btn",{attrs:{color:"orange",label:"Voltar"},on:{click:t.onCancel}})],1)],1)],1)])}),d=[];u._withStripped=!0;var v={name:"evento-form",props:["usuario","eventoData"],data:function(){return{evento:{id:null,descricao:"",dataInicio:"",dataTermino:"",usuario:{id:this.usuario.id}},chips1:["Romania","Algeria"],DataInicio:null,hoje:new Date}},created:function(){if(null!=this.eventoData){this.evento=this.eventoData,this.DataInicio=new Date(this.evento.dataInicio);var t=i["Ga"].getDateDiff(this.DataInicio,this.hoje,"days");console.log(t)}},methods:{salvarEvento:function(){var t=this;this.$http.post("/evento/cadastrar",{headers:{"Content-Type":"application/json;charset=UTF-8"},id:this.evento.id,descricao:this.evento.descricao,dataInicio:this.$moment.prepareDateReverse(this.evento.dataInicio),dataTermino:this.$moment.prepareDateReverse(this.evento.dataTermino),usuario:this.evento.usuario}).then(function(e){if("success"==e.data.result.status)t.$q.notify({message:"Evento salvo com sucesso",timeout:3e3,type:"positive",color:"positive",textColor:"white",icon:"check"}),t.$emit("get-eventos");else{var o=e.data.result.response.erros;o.length>0&&t.$q.notify({message:o[0].defaultMessage,timeout:3e3,type:"negative",color:"red",textColor:"white",icon:"error"})}}).catch(function(t){console.log(t)})},onCancel:function(){this.$emit("cancelar")},search:function(t,e){setTimeout(function(){e(filter(t,{field:"value",list:[{label:"Marcelo",value:1},{label:"Alves",value:3},{label:"Pereria",value:4}]}))},1e3)},selected:function(t){this.$q.notify('Selected suggestion "'.concat(t.label,'"'))},duplicate:function(t){this.$q.notify('"'.concat(t,'" already in list'))}}},h=v,f=(o("neis"),o("KHd+")),m=Object(f["a"])(h,u,d,!1,null,"0f8f6d2e",null),p=m.exports,b=o("L2JU"),g={name:"meus-eventos",components:{EventoForm:p},data:function(){return{model:null,iconFab:"add",eventos:[],evento:null,right:"right",usuario:null,novo:!1,direita:!1,columns:[{name:"desc",required:!0,label:"Descrição",align:"left",field:"descricao",sortable:!0},{name:"dataInicio",label:"Data Início",align:"left",field:"dataInicio"},{name:"dataTermino",label:"Data Término",align:"left",field:"dataTermino"},{name:"situacao",label:"Situação",align:"left",field:function(t){return t.estadoEvento.estado}},{name:"id",label:"Ações",align:"left",field:"id"}]}},watch:{direita:function(t){function e(e,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){console.log(this.right),this.right=direita?"right":"left"})},created:function(){this.getDadosUsuario()},methods:l()({},Object(b["c"])("evento",["setEventoSelecionado"]),{getDadosUsuario:function(){var t=this;this.$http.get("/usuario/"+i["Fa"].get.item("email"),{}).then(function(e){t.usuario=e.data.result.response.usuario,t.eventos=t.usuario.eventos}).catch(function(t){i["b"].create({title:"Error",message:"Não foi possível carregar os eventos"})})},onEdit:function(t){this.evento=t,this.evento.dataInicio=this.$moment.prepareDate(this.evento.dataInicio),this.evento.dataTermino=this.$moment.prepareDate(this.evento.dataTermino),Object.defineProperty(this.evento,"usuario",{value:{id:this.usuario.id},writable:!0,enumerable:!0,configurable:!0}),this.novo=!0},onDelete:function(t){var e=this;this.$http.delete("/evento/delete/"+t,{}).then(function(t){if("success"==t.data.result.status)e.$q.notify({message:t.data.result.response.msg,timeout:3e3,type:"positive",color:"positive",textColor:"white",icon:"check"}),e.getDadosUsuario();else{var o=t.data.result.response.erros;o.length>0&&e.$q.notify({message:t.data.result.response.msg,timeout:3e3,type:"negative",color:"red",textColor:"white",icon:"error"})}}).catch(function(t){i["b"].create({title:"Error",message:"Não foi possível fazer esta operação"})})},onDateFormat:function(t){return i["Ga"].formatDate(new Date(this.$moment.prepareDate(t)),"DD/MM/YYYY")},onAtividade:function(t){this.setEventoSelecionado(t),this.$router.push("/evento/atividade-evento")},onInscritos:function(t){this.setEventoSelecionado(t),this.$router.push("/evento/inscritos")}})},D=g,q=(o("Q4kT"),Object(f["a"])(D,s,r,!1,null,"4d01fd0e",null)),w=q.exports,y={name:"painel",components:{MeusEventos:w},data:function(){return{model:null,usuario:{nome:"",email:"",password:""}}},methods:{}},I=y,$=(o("NDB8"),Object(f["a"])(I,a,n,!1,null,"c904cfd6",null));e["default"]=$.exports},GSS9:function(t,e,o){},NDB8:function(t,e,o){"use strict";var a=o("X3M2"),n=o.n(a);n.a},Q4kT:function(t,e,o){"use strict";var a=o("RPci"),n=o.n(a);n.a},RPci:function(t,e,o){},X3M2:function(t,e,o){},neis:function(t,e,o){"use strict";var a=o("GSS9"),n=o.n(a);n.a}}]);