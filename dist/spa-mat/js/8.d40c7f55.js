(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2BER":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col s10"},[o("q-tabs",{attrs:{color:"secondary",inverted:""}},[o("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",icon:"message",label:"Meus Eventos"},slot:"title"}),o("q-tab",{attrs:{slot:"title",name:"tab-3",icon:"account_box",label:"Minhas Inscrições"},slot:"title"}),o("q-tab-pane",{attrs:{name:"tab-1"}},[o("meus-eventos")],1),o("listagem-inscricao")],1)],1)])},n=[];a._withStripped=!0;var i=o("4IOb"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",[o("q-page-container",[o("q-btn",{staticClass:"fixed",staticStyle:{right:"18px",bottom:"18px",width:"50px",height:"50px","z-index":"1000"},attrs:{round:"",color:"primary",icon:e.iconFab},on:{click:function(t){e.novo=!e.novo,e.evento=null}}}),e.novo?o("evento-form",{attrs:{usuario:e.usuario,eventoData:e.evento},on:{"get-eventos":e.getDadosUsuario,cancelar:function(t){e.novo=!1}}}):o("q-table",{attrs:{title:"Listagem dos meus eventos",data:e.eventos,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"body-cell-dataTermino",fn:function(t){return o("q-td",{attrs:{props:t}},[e._v("\n        "+e._s(e.onDateFormat(t.row.dataTermino))+"\n      ")])}},{key:"body-cell-dataInicio",fn:function(t){return o("q-td",{attrs:{props:t}},[e._v("\n        "+e._s(e.onDateFormat(t.row.dataInicio))+"\n      ")])}},{key:"body-cell-id",fn:function(t){return o("q-td",{attrs:{props:t}},[o("q-btn-dropdown",{attrs:{label:"Ações",dense:"",color:"secondary"}},[o("q-list",{attrs:{link:""}},[o("q-item",[o("q-item-main",{nativeOn:{click:function(o){e.onAtividade(t.row)}}},[o("q-item-tile",{attrs:{label:""}},[e._v("Atividades")])],1)],1),o("q-item",[o("q-item-main",{nativeOn:{click:function(o){e.onAtividade(t.row)}}},[o("q-item-tile",{attrs:{label:""}},[e._v("Inscritos")])],1)],1),o("q-item",[o("q-item-main",{nativeOn:{click:function(o){e.onCupons(t.row)}}},[o("q-item-tile",{attrs:{label:""}},[e._v("Cupons")])],1)],1)],1)],1),e._v(" \n        "),o("q-btn",{attrs:{push:"",color:"blue-14",dense:"",icon:"edit"},on:{click:function(o){e.onEdit(t.row)}}}),e._v(" \n        "),o("q-btn",{attrs:{push:"",color:"red-14",dense:"",icon:"remove"},on:{click:function(o){e.onDelete(t.row.id)}}})],1)}}])})],1)],1)},r=[];s._withStripped=!0;var l=o("MVZn"),c=o.n(l),d=(o("a1Th"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col s12"},[o("q-card",{staticStyle:{width:"100%"},attrs:{inline:""}},[o("q-card-title",[e._v("\n        Cadastro Evento\n        "),o("div",{staticClass:"row items-center",attrs:{slot:"right"},slot:"right"},[o("q-icon",{attrs:{name:"calendar"}})],1)]),o("q-card-main",[o("q-field",{attrs:{icon:"",helper:""}},[o("q-input",{attrs:{"float-label":"Descrição"},model:{value:e.evento.descricao,callback:function(t){e.$set(e.evento,"descricao",t)},expression:"evento.descricao"}})],1),o("br"),o("q-datetime",{attrs:{format:"DD/MM/YYYY",min:e.hoje,"float-label":"Data de início",type:"date"},model:{value:e.evento.dataInicio,callback:function(t){e.$set(e.evento,"dataInicio",t)},expression:"evento.dataInicio"}}),o("q-datetime",{attrs:{format:"DD/MM/YYYY",min:e.hoje,"float-label":"Data de término",type:"date"},model:{value:e.evento.dataTermino,callback:function(t){e.$set(e.evento,"dataTermino",t)},expression:"evento.dataTermino"}}),o("br"),o("q-chips-input",{attrs:{placeholder:"Select from list or add new one","stack-label":"List of countries"},on:{duplicate:e.duplicate},model:{value:e.chips1,callback:function(t){e.chips1=t},expression:"chips1"}},[o("q-autocomplete",{on:{search:e.search,selected:e.selected}})],1)],1),o("q-card-separator"),o("q-card-actions",[o("q-btn",{attrs:{color:"secondary",label:"Salvar"},on:{click:e.salvarEvento}}),o("q-btn",{attrs:{color:"orange",label:"Voltar"},on:{click:e.onCancel}})],1)],1)],1)])}),u=[];d._withStripped=!0;var m={name:"evento-form",props:["usuario","eventoData"],data:function(){return{evento:{id:null,descricao:"",dataInicio:"",dataTermino:"",usuario:{id:this.usuario.id}},chips1:["Romania","Algeria"],DataInicio:null,hoje:new Date}},created:function(){if(null!=this.eventoData){this.evento=this.eventoData,this.DataInicio=new Date(this.evento.dataInicio);var e=i["Ha"].getDateDiff(this.DataInicio,this.hoje,"days");console.log(e)}},methods:{salvarEvento:function(){var e=this;this.$http.post("/evento/cadastrar",{headers:{"Content-Type":"application/json;charset=UTF-8"},id:this.evento.id,descricao:this.evento.descricao,dataInicio:this.$moment.prepareDateReverse(this.evento.dataInicio),dataTermino:this.$moment.prepareDateReverse(this.evento.dataTermino),usuario:this.evento.usuario}).then(function(t){if("success"==t.data.result.status)e.$q.notify({message:"Evento salvo com sucesso",timeout:3e3,type:"positive",color:"positive",textColor:"white",icon:"check"}),e.$emit("get-eventos");else{var o=t.data.result.response.erros;o.length>0&&e.$q.notify({message:o[0].defaultMessage,timeout:3e3,type:"negative",color:"red",textColor:"white",icon:"error"})}}).catch(function(e){console.log(e)})},onCancel:function(){this.$emit("cancelar")},search:function(e,t){setTimeout(function(){t(filter(e,{field:"value",list:[{label:"Marcelo",value:1},{label:"Alves",value:3},{label:"Pereria",value:4}]}))},1e3)},selected:function(e){this.$q.notify('Selected suggestion "'.concat(e.label,'"'))},duplicate:function(e){this.$q.notify('"'.concat(e,'" already in list'))}}},v=m,f=(o("eUic"),o("KHd+")),h=Object(f["a"])(v,d,u,!1,null,"7fe55b27",null),p=h.exports,b=o("L2JU"),g={name:"meus-eventos",components:{EventoForm:p},data:function(){return{model:null,iconFab:"add",eventos:[],evento:null,right:"right",usuario:null,novo:!1,direita:!1,columns:[{name:"desc",required:!0,label:"Descrição",align:"left",field:"descricao",sortable:!0},{name:"dataInicio",label:"Data Início",align:"left",field:"dataInicio"},{name:"dataTermino",label:"Data Término",align:"left",field:"dataTermino"},{name:"situacao",label:"Situação",align:"left",field:function(e){return e.estadoEvento.estado}},{name:"id",label:"Ações",align:"left",field:"id"}]}},watch:{direita:function(e){function t(t,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){console.log(this.right),this.right=direita?"right":"left"})},created:function(){this.getDadosUsuario()},methods:c()({},Object(b["c"])("evento",["setEventoSelecionado"]),{getDadosUsuario:function(){var e=this;this.$http.get("/usuario/"+i["Ga"].get.item("email"),{}).then(function(t){e.usuario=t.data.result.response.usuario,e.eventos=e.usuario.eventos}).catch(function(e){i["b"].create({title:"Error",message:"Não foi possível carregar os eventos"})})},onEdit:function(e){this.evento=e,this.evento.dataInicio=this.$moment.prepareDate(this.evento.dataInicio),this.evento.dataTermino=this.$moment.prepareDate(this.evento.dataTermino),Object.defineProperty(this.evento,"usuario",{value:{id:this.usuario.id},writable:!0,enumerable:!0,configurable:!0}),this.novo=!0},onDelete:function(e){var t=this;this.$http.delete("/evento/delete/"+e,{}).then(function(e){if("success"==e.data.result.status)t.$q.notify({message:e.data.result.response.msg,timeout:3e3,type:"positive",color:"positive",textColor:"white",icon:"check"}),t.getDadosUsuario();else{var o=e.data.result.response.erros;o.length>0&&t.$q.notify({message:e.data.result.response.msg,timeout:3e3,type:"negative",color:"red",textColor:"white",icon:"error"})}}).catch(function(e){i["b"].create({title:"Error",message:"Não foi possível fazer esta operação"})})},onDateFormat:function(e){return i["Ha"].formatDate(new Date(this.$moment.prepareDate(e)),"DD/MM/YYYY")},onAtividade:function(e){this.setEventoSelecionado(e),this.$router.push("/evento/atividade-evento")},onCupons:function(e){this.setEventoSelecionado(e),this.$router.push("/evento/cupons")},onInscritos:function(e){this.setEventoSelecionado(e),this.$router.push("/evento/inscritos")}})},q=g,D=(o("LjqX"),Object(f["a"])(q,s,r,!1,null,"6c234951",null)),y=D.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page-container",{staticStyle:{padding:"10px"}},[o("div",{staticClass:"container"},[o("q-table",{attrs:{title:"Minhas Inscrições",data:e.inscricoes,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"top-right",fn:function(t){return[o("q-btn",{staticClass:"q-mr-sm",attrs:{color:"secondary",flat:"",label:"Listagem de Eventos"},on:{click:function(t){e.$router.push("/painel")}}})]}},{key:"top-selection",fn:function(t){return[o("q-btn",{attrs:{color:"secondary",flat:"",label:"Action 2"}}),o("div",{staticClass:"col"}),o("q-btn",{attrs:{color:"negative",flat:"",round:"",delete:"",icon:"delete"},on:{click:e.deleteRow}})]}},{key:"body-cell-dataValidade",fn:function(t){return o("q-td",{attrs:{props:t}},[e._v("\n          "+e._s(e.onDateFormat(t.row.dataValidade))+"\n          ")])}},{key:"body-cell-Utilizado",fn:function(t){return o("q-td",{attrs:{props:t}},[t.row.utilizado?o("q-chip",{attrs:{tag:"",color:"red","icon-right":"close"}},[e._v("\n            Utilizado\n          ")]):o("q-chip",{attrs:{tag:"",color:"secondary","icon-right":"check"}},[e._v("\n            Disponível\n          ")])],1)}},{key:"body-cell-id",fn:function(t){return o("q-td",{attrs:{props:t}},[o("q-btn-dropdown",{attrs:{push:"",color:"blue-7",dense:"",icon:"printer"}},[o("q-list",{attrs:{link:""}},[o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[o("q-item-side",{attrs:{icon:"share",inverted:"",color:"blue"}}),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Imprimir Ingresso")])],1)],1),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[o("q-item-side",{attrs:{icon:"share",inverted:"",color:"blue"}}),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Google")])],1)],1),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[o("q-item-side",{attrs:{icon:"share",inverted:"",color:"blue"}}),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Whatsapp")])],1)],1)],1)],1),e._v(" \n        ")],1)}}])})],1)])},_=[];w._withStripped=!0;var k={name:"listagem-inscricao",data:function(){return{usuario:null,inscricoes:[],novo:!1,columns:[{name:"desc",required:!0,label:"Descrição",align:"left",field:"descricao",sortable:!0},{name:"desconto",label:"Desconto",align:"left",field:"desconto",sortable:!0},{name:"codigo",label:"Código",align:"left",field:"codigo",sortable:!0},{name:"dataValidade",label:"Validade",align:"left",field:"dataValidade",sortable:!0},{name:"Utilizado",label:"Utilizado",align:"left",field:"utilizado",sortable:!0},{name:"id",label:"Ações",align:"left",field:"id"}]}},computed:c()({},Object(b["b"])("evento",["getEventoSelecionado"])),created:function(){this.get_dados_usuario()},methods:{get_dados_usuario:function(){var e=this;this.$http.get("/usuario/"+SessionStorage.get.item("email"),{}).then(function(t){e.usuario=t.data.result.response.usuario,e.listar_inscricoes()}).catch(function(e){Dialog.create({title:"Error",message:"Não foi possível carregar os eventos"})})},listar_inscricoes:function(){var e=this;this.$http.get("/usuario/"+this.usuario.id+"/minhas-inscricoes/",{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){e.inscricoes=t.data}).catch(function(e){console.log(e)})},onDateFormat:function(e){return i["Ha"].formatDate(new Date(this.$moment.prepareDate(e)),"DD/MM/YYYY")},onHoursFormat:function(e){return i["Ha"].formatDate(new Date(e),"HH:mm")}}},$=k,I=(o("ikwI"),Object(f["a"])($,w,_,!1,null,"6fc1bec8",null)),E=I.exports,C={name:"painel",components:{ListagemInscricao:E,MeusEventos:y},data:function(){return{model:null,usuario:{nome:"",email:"",password:""}}},methods:{}},S=C,x=(o("a04H"),Object(f["a"])(S,a,n,!1,null,"130c8614",null));t["default"]=x.exports},APHV:function(e,t,o){},LjqX:function(e,t,o){"use strict";var a=o("WBDX"),n=o.n(a);n.a},WBDX:function(e,t,o){},a04H:function(e,t,o){"use strict";var a=o("k39H"),n=o.n(a);n.a},eUic:function(e,t,o){"use strict";var a=o("APHV"),n=o.n(a);n.a},ikwI:function(e,t,o){"use strict";var a=o("ksV1"),n=o.n(a);n.a},k39H:function(e,t,o){},ksV1:function(e,t,o){}}]);